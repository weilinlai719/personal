<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="flipcard.png"></link>
    <title>flip-card</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary-color: #2980b9;
            --bg-color: #f0f0f0;
            --card-front: #cec8c8;
            --transition-speed: 0.6s;
        }
        body {
            padding-top: 2.5%;
            padding-bottom: 2.5%;
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            margin: 0;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 200px));
            gap: 20px;    
        }
        .flip-card {
            background-color: transparent;
            width: 300px;
            height: 200px;
            perspective: 1000px; 
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
        }
        .flip-card-front {
            background-color: #cec8c8;
            color: black;
        }
        .flip-card-back {
            background-color: #2980b9;
            color: white;
            transform: rotateY(180deg);
        }
        button{
           height: 100%;
            width: 100%;
        }
        .page-button{
            position: fixed; 
            top: 50%;
            transform: translateY(-50%);
            background-color: #9aa3a5b2;
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 50%;
        }
        .page-button:hover{
            background-color: #6c757db2;
            transform : translateY(-50%) scale(1.1);
        }
        #nextpage {
        right: 20px;
        }

        #prevpage {
        left: 20px;
        }
        .pagenumber{
            position: fixed; 
            bottom: 10px; 
            left: 50%; 
            transform: translateX(-50%);
            background-color: #9aa3a5b2;
            border-radius: 15px;
            color: rgb(2, 2, 2);
            padding: 5px 15px;
            font-size: 16px;
        }
        @media screen and (min-width: 768px) {
             .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }
            
        }
        @media screen and (max-width: 768px) {
            body {
                display: flex;
                flex-direction: column;
                align-items: center;
                padding-bottom: 40px;
            }

            .flip-card {
                height: 63.5px; 
                max-width: 300px;
                margin-bottom: 5px;
            }

            .flip-card-inner.is-flipped {
        transform: rotateY(180deg);
    }

            .flip-card-front p, .flip-card-back p {
                display: none; 
            }
            .pagenumber {
            position: fixed; 
            background-color: #f0f0f0; 
            border-top: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        .page-button {
        width: 30px;
        height: 45px;
        font-size: 18px;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        }
        #nextpage {
        right: 7.5px;
        }

        #prevpage {
        left: 7.5px;
        }
        }
        
        </style>
</head>
        <body>
            <div class="page-button" id="nextpage" >></div>
            <div class="page-button" id="prevpage" ><</div>
            <div class="pagenumber" id="pagenumber" onclick="alert('Current Page: ' + (currentPage + 1))">Page 1</div>
            <script>
                let currentPage = 0;
             const cardsPerPage = 12;
    fetch('englishcard.json')
        .then(response => response.json())
        .then(data => {
           
            data.forEach((item) => {
                const cardHTML = `
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <p>#${item.id}</p>
                        <h3>${item.chinese}</h3>
                    </div>
                    <div class="flip-card-back">
                        <p>#${item.id}</p>
                        <h3>${item.english}</h3>
                    </div>
                </div>
            </div>
                `;
                
                document.body.insertAdjacentHTML('beforeend', cardHTML);
            });

           initPagination();
        })
        .catch(error => console.error('Error:', error));

    
    function initPagination() {
        const cards = document.querySelectorAll('.flip-card');
        const nextPageBtn = document.getElementById('nextpage');
        const prevPageBtn = document.getElementById('prevpage');
        const pagenumDisplay = document.getElementById('pagenumber');

        function showPage(page) {
            cards.forEach((card, index) => {
                const isVisible = index >= page * cardsPerPage && index < (page + 1) * cardsPerPage;
                card.style.display = isVisible ? 'block' : 'none';
            });
            pagenumDisplay.textContent = `Page ${currentPage + 1} / ${Math.ceil(cards.length / cardsPerPage)}`;
        }
        document.addEventListener('keydown', event => {
        if (event.keyCode === 39) { 
             if ((currentPage + 1) * cardsPerPage < cards.length) {
                currentPage++;
                showPage(currentPage);
                window.scrollTo({top: 0, behavior: 'smooth'});
            } }
        else if (event.keyCode === 37) {  if (currentPage > 0) {
                currentPage--;
                showPage(currentPage);
                window.scrollTo({top: 0, behavior: 'smooth'});
            } }
            });
        nextPageBtn.addEventListener('click', () => {
            if ((currentPage + 1) * cardsPerPage < cards.length) {
                currentPage++;
                showPage(currentPage);
                window.scrollTo({top: 0, behavior: 'smooth'});
            }
        });

        prevPageBtn.addEventListener('click', () => {
            if (currentPage > 0) {
                currentPage--;
                showPage(currentPage);
                window.scrollTo({top: 0, behavior: 'smooth'});
            }
        });
        showPage(currentPage);
    }
    function toggleFlip(card) {
    const inner = card.querySelector('.flip-card-inner');
    inner.classList.toggle('is-flipped');
}
    </script>
    </body>
</html>
